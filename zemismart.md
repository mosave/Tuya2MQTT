# Апгрейд модуля в приводе Zemismart WiFi Roller Shade Motor

Для разборки привода необходимо:

  * Выкрутить 2 винта с торца двигателя, прикрывающих выход проводов
  * Извлечь из гнезда и отпаять плату с кнопкой
  * Разогнуть металлические "уши", удерживающие заглушку с проводами, извлечь заглушку из корпуса и аккуратно вытащить проходящие через нее антенны.
  * Выкрутить четыре маленьких самореза, удерживающих механизм двигателя
  * Аккуратно вытянуть двигатель из корпуса и проталкивая за ним провода и блок питания - извлечь всю конструкцию 


**Позже здесь появятся две фотографии, демонстрирующие разборку и общий вид внутренностей привода**


Оригинальный WiFi модуль Tuya WBR1-IPEX с подключенным UART сканером для анализа протокола.
Выключатель на линии 3.3в позволяет временно отключить оригинальный модуль и проверить работу своей прошивки без паяльника.

![Оригинальный WiFi модуль Tuya WBR1-IPEX](https://github.com/mosave/Tuya2MQTT/raw/main/Photos/z01wbr1.jpg)

Вся электроника привода находится внутри металлической трубы, поэтому для нормальной работы необходимо вывести WiFi антенну наружу.
В теории можно найти ESP8266 с встроенным IPEX коннектором, как это сделано на оригинальном wifi модуле - но я пошел по другому пути,
подпаяв штатную антенну напрямую к модулю ESP-01S вместо интегрированной. Для этого нужно перерезать на плате дорожки ведующие к антенне
и отрезав с антенного кабеля разъем и экран и антенну:

![Подготовка ESP-01S к подключению внешней антенны](https://github.com/mosave/Tuya2MQTT/raw/main/Photos/z02antena.jpg)

Прошитый и установленный модуль ESP-01S. На случай необходимости подключения к приводу дополнительных устройств (например датчика освещенности на улице), 
свободные каналы контроллера выведены на внешний разъем.

![Плата мотора с установленным ESP-01S](https://github.com/mosave/Tuya2MQTT/raw/main/Photos/z03esp01s.jpg)

